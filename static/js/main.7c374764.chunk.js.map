{"version":3,"sources":["App.js","index.js"],"names":["ageFill","levelsFill","App","useState","latitude","longitude","zoom","pitch","viewport","setViewport","value","setValue","showExtrusion","setShowExtrusion","layerPaint","useMemo","useEffect","p","className","onChange","disabled","width","height","mapStyle","mapboxApiAccessToken","onViewportChange","type","data","id","paint","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"i2nlQAOMA,EAAU,CACZ,eAAgB,CACZ,OACA,CAAC,MAAO,cACR,IACA,IAEJ,aAAc,CACV,OACA,CAAC,MAAO,cACR,CACI,cACA,CAAC,UACD,CAAC,YAAa,CAAC,MAAO,eACtB,KACA,UACA,KACA,UACA,KACA,UACA,KACA,UACA,KACA,UACA,KACA,UACA,IACA,UACA,KACA,WAEJ,UAIFC,EAAa,CACf,eAAgB,EAChB,aAAc,CACV,OACA,CAAC,MAAO,mBACR,CACI,cACA,CAAC,UACD,CAAC,YAAa,CAAC,MAAO,oBACtB,EACA,UACA,EACA,UACA,EACA,UACA,EACA,UACA,EACA,UACA,GACA,WAEJ,UA4FOC,MAxFf,WAAgB,IAAD,EAEmBC,mBAAS,CACvCC,SAAU,UACVC,UAAW,UACXC,KAAM,GACNC,MAAO,IANI,mBAENC,EAFM,KAEIC,EAFJ,OASaN,mBAAS,GATtB,mBASNO,EATM,KASCC,EATD,OAU6BR,mBAAS,GAVtC,mBAUNS,EAVM,KAUSC,EAVT,KAYPC,EAAaC,mBAAQ,WACvB,OAAKL,EAGE,2BACAT,GADP,IAEI,eAAgBW,EAAgB,EAAI,IAJ7BZ,IAMZ,CAACU,EAAOE,IASX,OAPAI,qBAAU,WACNP,GAAY,SAAAQ,GAAC,kCACNA,GADM,IAETV,MAAOK,EAAgB,GAAK,SAEjC,CAACA,IAGF,sBAAKM,UAAU,MAAf,UACI,sBAAKA,UAAU,iDAAf,UACI,cAAC,IAAD,CAAQR,MAAOA,EAAOS,SAAUR,IAChC,cAAC,IAAD,CAAQS,UAAWV,EAAOA,MAAOE,EAAeO,SAAUN,OAE9D,cAAC,IAAD,2BACQL,GADR,IAEIa,MAAM,OACNC,OAAO,OACPC,SAAS,mCACTC,qBAAqB,2EACrBC,iBAAkBhB,EANtB,SAQI,eAAC,IAAD,CACIiB,KAAK,UACLC,KAAMA,EAFV,UAII,cAAC,IAAD,CACIC,GAAG,WACHF,KAAK,iBACLG,MAAO,CACH,yBAA0BjB,EAC1B,uBAAwB,CACpB,OACA,CAAC,MAAO,mBACR,CACI,cACA,CAAC,UACD,CAAC,YAAa,CAAC,MAAO,oBAEtB,EACA,UACA,EACA,UACA,EACA,UACA,EACA,UACA,EACA,UACA,GACA,WAEJ,SACJ,wBAAyB,CAAC,IAAK,EAAG,CAAC,YAAa,CAAC,MAAO,wBAGhE,cAAC,IAAD,CACIgB,GAAG,YACHF,KAAK,OACLG,MAAOf,c,YC7I3BgB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7c374764.chunk.js","sourcesContent":["import { useState, useMemo, useEffect } from 'react';\nimport MapGL, {  Source, Layer } from 'react-map-gl';\nimport Switch from 'react-input-switch';\n\nimport './App.css';\nimport data from './features.json';\n\nconst ageFill = {\n    \"fill-opacity\": [\n        'case',\n        ['has', 'start_date'],\n        0.75,\n        0.5\n    ],\n    \"fill-color\": [\n        \"case\",\n        [\"has\", \"start_date\"],\n        [\n            \"interpolate\",\n            [\"linear\"],\n            [\"to-number\", [\"get\", \"start_date\"]],\n            1800,\n            '#d53e4f',\n            1850,\n            '#f46d43',\n            1900,\n            '#fdae61',\n            1920,\n            '#fee08b',\n            1950,\n            '#e6f598',\n            1980,\n            '#abdda4',\n            2000,\n            '#66c2a5',\n            2019,\n            '#3288bd'\n        ],\n        'black',\n    ],\n};\n\nconst levelsFill = {\n    \"fill-opacity\": 1,\n    \"fill-color\": [\n        \"case\",\n        [\"has\", \"building:levels\"],\n        [\n            'interpolate',\n            ['linear'],\n            [\"to-number\", [\"get\", \"building:levels\"]],\n            1,\n            '#f0f9e8',\n            2,\n            '#ccebc5',\n            3,\n            '#a8ddb5',\n            5,\n            '#7bccc4',\n            9,\n            '#43a2ca',\n            20,\n            '#0868ac',\n        ],\n        'black',\n    ],\n};\n\nfunction App() {\n\n  const [viewport, setViewport] = useState({\n    latitude: 49.842957,\n    longitude: 24.031111,\n    zoom: 12,\n    pitch: 0,\n  });\n\n  const [value, setValue] = useState(0);\n  const [showExtrusion, setShowExtrusion] = useState(0);\n\n  const layerPaint = useMemo(() => {\n      if (!value) {\n          return ageFill;\n      }\n      return {\n          ...levelsFill,\n          'fill-opacity': showExtrusion ? 0 : 1\n      };\n  }, [value, showExtrusion]);\n\n  useEffect(() => {\n      setViewport(p => ({\n          ...p,\n          pitch: showExtrusion ? 70 : 0,\n      }));\n  }, [showExtrusion]);\n\n  return (\n    <div className=\"App\">\n        <div className=\"absolute ml3 mt3 pa2 z-999 bg-white sans-serif\">\n            <Switch value={value} onChange={setValue} />\n            <Switch disabled={!value} value={showExtrusion} onChange={setShowExtrusion} />\n        </div>\n        <MapGL\n            {...viewport}\n            width=\"100%\"\n            height=\"100%\"\n            mapStyle=\"mapbox://styles/mapbox/light-v10\"\n            mapboxApiAccessToken=\"pk.eyJ1IjoiZGFubnktbXlsaWFuIiwiYSI6InVCQVpLU2MifQ.YnpbOBfhLx6djpOiAorE2A\"\n            onViewportChange={setViewport}\n        >\n            <Source\n                type=\"geojson\"\n                data={data}\n            >\n                <Layer\n                    id=\"extruded\"\n                    type=\"fill-extrusion\"\n                    paint={{\n                        'fill-extrusion-opacity': showExtrusion,\n                        \"fill-extrusion-color\": [\n                            \"case\",\n                            [\"has\", \"building:levels\"],\n                            [\n                                'interpolate',\n                                ['linear'],\n                                [\"to-number\", [\"get\", \"building:levels\"]],\n\n                                1,\n                                '#f0f9e8',\n                                2,\n                                '#ccebc5',\n                                3,\n                                '#a8ddb5',\n                                5,\n                                '#7bccc4',\n                                9,\n                                '#43a2ca',\n                                20,\n                                '#0868ac',\n                            ],\n                            'black'],\n                        \"fill-extrusion-height\": ['*', 8, [\"to-number\", [\"get\", \"building:levels\"]]]\n                    }}\n                />\n                <Layer\n                    id=\"age-layer\"\n                    type=\"fill\"\n                    paint={layerPaint}\n                />\n            </Source>\n        </MapGL>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport 'tachyons/css/tachyons.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}